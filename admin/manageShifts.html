<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">

    <title>ExamReg</title>

    <!-- Custom fonts for this template-->
    <link rel="icon" href="../image/heart_icon.png">
    <link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Custom styles for this template-->
    <link rel="stylesheet" href="../vendor/bootstrap/css/bootstrap.css">
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="manageShifts.css">
    <link rel="stylesheet" href="../vendor/select2/select2.min.css">
    <!--    <link rel="stylesheet" href="../vendor/datatables/datatables.css">-->

</head>

<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">

    <!-- Sidebar -->
    <div>
        <div class="position-fixed">
            <ul class="navbar-nav sidebar sidebar-dark accordion" id="accordionSidebar" style="background-color: #2d4373">

                <!-- Sidebar - Brand -->
                <a class="sidebar-brand d-flex align-items-center justify-content-center" href="admin.html">
                    <div class="sidebar-brand-icon rotate-n-15">
                        <i class="fas fa-laugh-wink"></i>
                    </div>
                    <div class="sidebar-brand-text mx-3">ExamReg</div>
                </a>

                <!-- Divider -->
                <hr class="sidebar-divider my-0">
                <!-- Nav Item subject -->
                <li class="nav-item" >
                    <a class="nav-link" href="manageSubjects.html"  aria-expanded="true" onclick="activeNav(this)">
                        <i class="fas fa-fw fa-clipboard-list" style="font-size: 115%"></i>
                        <span style="font-size: 115%">Môn học</span>
                    </a>
                </li>

                <!-- Nav Item - student -->
                <li class="nav-item" >
                    <a class="nav-link " href="manageStudents.html"  aria-expanded="true" >
                        <i class="fas fa-fw fa-user-friends" style="font-size: 115%"></i>
                        <span style="font-size: 115%">Sinh viên</span>
                    </a>
                </li>

                <li class="nav-item active" >
                    <a class="nav-link " href="#" data-toggle="collapse" data-target="#collapseExam" aria-expanded="true" >
                        <i class="fas fa-fw fa-calendar-times" style="font-size: 115%"></i>
                        <span style="font-size: 115%">Quản lý kỳ thi</span>
                    </a>
                    <div id="collapseExam" class="collapse m-0 show">
                        <div class="bg-white collapse-inner m-0 " style="font-size: 15px">
                            <a class="collapse-item m-0" href="manageExam.html">Kỳ thi</a>
                            <a class="collapse-item m-0" href="manageExamSubjects.html">Môn thi</a>
                            <a class="collapse-item m-0 active" href="manageShifts.html">Ca thi</a>
                            <a class="collapse-item m-0 " href="manageRooms.html">Phòng thi</a>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <ul class="navbar-nav sidebar">
            <li class="nav-item" >
                <a class="nav-link "></a>
            </li>
        </ul>
    </div>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

        <!-- Main Content -->
        <div id="content">

            <!-- Topbar -->
            <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

                <!-- Sidebar Toggle (Topbar) -->
                <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                    <i class="fa fa-bars"></i>
                </button>

                <!-- Topbar Navbar -->
                <ul class="navbar-nav ml-auto">
                    <!-- Nav Item - User Information -->
                    <li class="nav-item dropdown no-arrow">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="mr-2 d-none d-lg-inline text-gray-600 small"id="profile"></span>
                            <img class="img-profile rounded-circle" src="../image/user.png" >
                        </a>
                        <!-- Dropdown - User Information -->
                        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                            <a class="dropdown-item" href="profileAdmin.html">
                                <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                                Profile
                            </a>

                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                                <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                                Logout
                            </a>
                        </div>
                    </li>

                </ul>

            </nav>
            <!-- End of Topbar -->
            <!-- Begin Page Content -->
            <div class="container-fluid">
                <div class="d-sm-flex align-items-center justify-content-between mb-4"style="font-size: 200%">
                    <p>Quản lý ca thi</p>
                </div>
                <div class="form-group col-md-12 d-flex justify-content-end mb-0 p-0">
                    <label class="mt-2" style="width: 65px">Học Kỳ:</label>
                    <select class="form-control w-25" id="inputHK" >
                    </select>
                </div>
                <div class="card shadow mb-3">
                    <div class="card-body">
                        <div class="container-fluid p-0 table-responsive">
                            <div class="row w-100 m-0">
                                <div class="col-md-6">
                                    <div class="d-flex" id="subTable_length">
                                        <div class="mt-1">
                                            <label>Hiển thị:</label>
                                        </div>
                                        <div class="ml-2 mr-2">
                                            <select name="subTable_length" aria-controls="subTable" class="custom-select custom-select-sm form-control form-control-sm">
                                                <option name="optionPageSize" value="10">10</option>
                                                <option name="optionPageSize" value="25">25</option>
                                                <option name="optionPageSize" value="50">50</option>
                                            </select>
                                        </div>
                                        <div class="mt-1">
                                            <label>hàng</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <table id="subTable" class="table table-bordered p-0 table-striped my-table"style="color: black; text-align:center;">
                                <thead class="thead-dark">
                                <tr>
                                    <th>Stt</th>
                                    <th>Ngày Thi</th>
                                    <th>Bắt đầu</th>
                                    <th>Kết thúc</th>
                                    <th>Môn & phòng</th>
                                    <th style="width: 8%">#</th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            <div class="row w-100 m-0 mt-3">
                                <div class="col-sm-12 col-md-5">
                                    <p id="subTable_info"></p>
                                </div>
                                <div class="col-sm-12 col-md-7 d-flex justify-content-end p-0">
                                    <div class="dataTables_paginate paging_simple_numbers" id="subTable_paginate">
                                        <ul class="pagination m-0">
                                            <li class="paginate_button page-item previous disabled" id="subTable_previous"onclick="previousPage()" style="cursor: pointer">
                                                <a class="page-link">
                                                    <i class="fas fa-angle-double-left clickable"></i>
                                                </a>
                                            </li>
                                            <li class="paginate_button page-item next disabled" id="subTable_next"onclick="nexPage()" style="cursor: pointer">
                                                <a class="page-link" >
                                                    <i class="fas fa-angle-double-right clickable"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="float-right">
                            <button class="btn btn-primary" id="addButton">Thêm ca</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- /.container-fluid -->
<!-- End of Main Content -->
<!-- End of Content Wrapper -->
</div>
<!-- End of Page Wrapper -->

<!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                <button class="btn btn-primary" onclick="removeToken()">Logout</button>
            </div>
        </div>
    </div>
</div>
<!--add shifts modal-->
<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="headerAddModal" aria-hidden="true">
    <div class="modal-dialog " role="document">
        <div class="modal-content"style="width: 700px;margin-left: -100px!important;">
            <div class="modal-header">
                <h5 class="modal-title" id="headerAddModal" style="color:black">Thêm khung giờ</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="inputNgay">Ngay thi</label>
                        <input type="text"class="form-control" id="inputNgay">
                    </div>
                    <div class="form-group">
                        <label for="inputBatDau">Bắt đầu</label>
                        <input type="text"class="form-control" id="inputBatDau">
                    </div>
                    <div class="form-group">
                        <label for="inputKetThuc">Kết Thúc</label>
                        <input type="text"class="form-control" id="inputKetThuc">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" type="button" id="confirmAddButton">Confirm</button>
            </div>
        </div>
    </div>
</div>
<!--edit shifts modal-->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="headerModal" aria-hidden="true">
    <div class="modal-dialog " role="document">
        <div class="modal-content"style="width: 700px;margin-left: -100px!important;">
            <div class="modal-header">
                <h5 class="modal-title" id="headerModal" style="color:black">Chỉnh sửa thông tin khung gio</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="editNgay">Ngay thi</label>
                        <input type="text"class="form-control" id="editNgay">
                    </div>
                    <div class="form-group">
                        <label for="editBatDau">Bắt đầu</label>
                        <input type="text"class="form-control" id="editBatDau">
                    </div>
                    <div class="form-group">
                        <label for="editKetThuc">Ket thúc</label>
                        <input type="text"class="form-control" id="editKetThuc">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" type="button" id="confirmEditButton">Confirm</button>
            </div>
        </div>
    </div>
</div>
<!-- edit room modal-->
<div class="modal fade" id="editRoomModal" tabindex="-1" role="dialog" aria-labelledby="headerModal" aria-hidden="true">
    <div class="modal-dialog " role="document">
        <div class="modal-content"style="width: 700px;margin-left: -100px!important;">
            <div class="modal-header">
                <h5 class="modal-title" style="color:black">Chỉnh sửa phòng</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="d-flex" for="editPhong">Phòng</label>
                    <select class="form-control Mon"style="width:100%" id="editPhong">
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" type="button" id="confirmEditRoomButton">Confirm</button>
            </div>
        </div>
    </div>
</div>
<!-- add subject and room modal-->
<div class="modal fade" id="addSubjectAndRoom" tabindex="-1" role="dialog" aria-labelledby="headerModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content"style="width: 700px;margin-left: -100px!important;">
            <div class="modal-header">
                <h5 class="modal-title" id="headerModalShow" style="color:black">Môn thi và phòng thi</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row w-100 m-0">
                    <div class="col-md-6">
                        <div class="d-flex" id="subAndRoomTable_length">
                            <div class="mt-1">
                                <label>Hiển thị:</label>
                            </div>
                            <div class="ml-2 mr-2">
                                <select name="subAndRoomTable_length" aria-controls="SubjectAndRoomTable" class="custom-select custom-select-sm form-control form-control-sm">
                                    <option name="optionPageSize" value="5">5</option>
                                    <option name="optionPageSize" value="10">10</option>
                                    <option name="optionPageSize" value="25">25</option>
                                    <option name="optionPageSize" value="50">50</option>
                                </select>
                            </div>
                            <div class="mt-1">
                                <label>hàng</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 p-0">
                        <div id="SubjectAndRoomTable_filter" class="dataTables_filter d-flex justify-content-end">
                            <div class="mt-1"><label>Tìm kiếm:</label></div>
                            <div class="ml-2"><input type="search" class="form-control form-control-sm"  placeholder="Nhập tên môn học" id="input_search" aria-controls="SubjectAndRoomTable"></div>
                        </div>
                    </div>
                </div>
                <table id="subjectAndRoomTable" class="table table-bordered p-0 table-striped my-table"style="color: black; text-align:center;">
                    <thead class="thead-dark">
                        <tr>
                            <th>Stt</th>
                            <th class="d-none">subject_id</th>
                            <th class="d-none">room_id</th>
                            <th>Môn thi</th>
                            <th>Phòng thi</th>
                            <th style="width: 8%">#</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <div class="row w-100 m-0 mt-3">
                    <div class="col-sm-12 col-md-5">
                        <p id="addSubjectTable_info"></p>
                    </div>
                    <div class="col-sm-12 col-md-7 d-flex justify-content-end p-0">
                        <div class="dataTables_paginate paging_simple_numbers" id="addSubjectTable_paginate">
                            <ul class="pagination m-0">
                                <li class="paginate_button page-item previous disabled preSub" id="addSubjectTable_previous" onclick="previousPageSub()" style="cursor: pointer">
                                    <a class="page-link">
                                        <i class="fas fa-angle-double-left clickable"></i>
                                    </a>
                                </li>
                                <li class="paginate_button page-item next disabled nextSub" id="addSubjectTable_next" onclick="nextPageSub()" style="cursor: pointer">
                                    <a class="page-link" >
                                        <i class="fas fa-angle-double-right clickable"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer d-flex text-white">
                <button class="btn-primary btn  d-flex justify-content-start" id="addSubjectButton"><i class="fas fa-plus mt-1"></i><p class="mb-0 ml-2">Thêm môn thi mới</p></button>
                <button class="btn btn-primary ml-auto d-flex justify-content-end" id="confirmSubjectRoomButton">Ghi nhận</button>
            </div>
        </div>
    </div>
</div>
<!-- add subject modal-->
<div class="modal fade" id="addSubject" tabindex="-1" role="dialog" aria-labelledby="headerAddModal" aria-hidden="true">
    <div class="modal-dialog " role="document">
        <div class="modal-content"style="width: 700px;margin-left: -100px!important;">
            <div class="modal-header">
                <h5 class="modal-title" style="color:black">Thêm môn thi</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="d-flex" for="inputMon">Môn thi</label>
                    <select class="form-control Mon"style="width:100%" id="inputMon">

                    </select>
                </div>
                <div class="form-group">
                    <label class="d-flex" for="inputPhong">Phòng</label>
                    <select class="form-control Mon"style="width:100%" id="inputPhong">

                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" type="button" id="confirmAddSubjectButton">Confirm</button>
            </div>
        </div>
    </div>
</div>
<!--check delete modal-->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteModalLabel">Bạn có chắc chắn muốn xóa?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                <button class="btn btn-primary" type="button" id="confirmDelete">Delete</button>
            </div>
        </div>
    </div>
</div>
<!-- Bootstrap core JavaScript-->
<script src="../vendor/jquery/jquery.min.js"></script>
<script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="../vendor/jquery-easing/jquery.easing.min.js"></script>
<script src="manageShifts.js"></script>
<script src="../vendor/select2/select2.min.js"></script>
<script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
<!-- datatable-->
<!--<script src="../vendor/datatables/datatables.min.js" type="text/javascript"></script>-->
<!--<script src="../vendor/datatables/Buttons-1.6.1/js/dataTables.buttons.min.js" type="text/javascript"></script>-->
<!--<script src="../vendor/datatables/Buttons-1.6.1/js/buttons.bootstrap4.min.js" type="text/javascript"></script>-->
<!--<script src="../vendor/datatables/Buttons-1.6.1/js/buttons.html5.min.js" type="text/javascript"></script>-->
<!--<script src="../vendor/datatables/Buttons-1.6.1/js/buttons.print.min.js" type="text/javascript"></script>-->
<!--<script src="../vendor/datatables/datatables.js"></script>-->

</body>

</html>
